---
title: ä¸€ç§å“åº”å¼å¸ƒå±€å®è·µåˆ†äº«
description: ä¸€ç§åŸºäº SCSSï¼Œ åª’ä½“æŸ¥è¯¢ media query + Snippetsï¼Œé€‚ç”¨äºä¸­å°å‹é¡¹ç›®çš„å“åº”å¼å¸ƒå±€å®è·µåˆ†äº«
pubDate: 2024-08-31
---
import fileURI from '@/assets/files/code-responsive-and-emmet.zip'

## æŠ€æœ¯ç‚¹
SCSS + åª’ä½“æŸ¥è¯¢ media query + Snippets

## å“åº”å¼å¸ƒå±€ç»éªŒ
<ol>
  <li>
    å°½é‡é¿å…å›ºå®šå…ƒç´ çš„å°ºå¯¸
    <ol>
      <li>
        é¿å…åŒæ—¶è®¾ç½®å…ƒç´ çš„ width å’Œ height
```scss
/* bad */
.element {
    width: 600px;
    height: 400px;
}
/* good */
/* å…ƒç´ é«˜åº¦å¯ä»¥è‡ªç„¶å¢é•¿ */
.element {
    width: 600px;
}
```
      </li>
      <li>
        å¯¹äºå›¾ç‰‡ï¼Œå¦‚æœæ— ç‰¹æ®Šéœ€æ±‚ï¼Œå°½é‡è®¾ç½®å…¶ max-width æ–¹ä¾¿å…¶ç¼©å°
```scss
/* ä¸€èˆ¬è¿™æ ·å³å¯ï¼Œå¦‚æœæœ‰éœ€æ±‚è·Ÿéšéœ€æ±‚èµ° */
img {
    max-width: 100%;
}
```
      </li>
    </ol>
  </li>
  <li>
    ä¸ç¡®å®šå®¹å™¨æœ€ç»ˆå°ºå¯¸å‰ï¼Œé¿å…å£°æ˜é¢å¤–çš„æ ·å¼
  </li>
  <li>
    å¦‚æœæµè§ˆå™¨å¯ä»¥åšï¼Œä¸è¦è‡ªå·±åš
  </li>
  <li>
    ä»æœ€ç®€å•çš„ç§»åŠ¨ç«¯å¸ƒå±€åšèµ·ï¼Œé€æ¸å‘å¤æ‚çš„ PC ç«¯é æ‹¢
    æ³¨ï¼šè¿™æ ·ç§»åŠ¨ç«¯å°†ä¼šåŠ è½½ç›¸å¯¹è¾ƒå°‘çš„ CSS è§„åˆ™ï¼Œä¸éœ€è¦è¿›è¡Œæ ·å¼è¦†ç›–
  </li>
</ol>

## å€ŸåŠ© SCSS ç‰¹æ€§å“åº”å¼å¼€å‘
  <ol>
    <li>
      ç¡®å®šæ–­ç‚¹ï¼Œä½¿ç”¨ Variables ç¼–å†™æ–­ç‚¹å˜é‡
```scss
$sm: 768px;
$md: 1024px;
$base: 1366px;
```
  </li>
  <li>
    å»ºç«‹è½¬æ¢å‡½æ•°ï¼Œåˆ©ç”¨ @function ç¼–å†™è½¬æ¢å‡½æ•°
    å…³è”ï¼š@useã€å†…ç½®æ¨¡å— sass:math
    æ ¹æ®æˆ‘ä»¬å¯èƒ½æ¶‰åŠåˆ°çš„å°ºå¯¸æ§åˆ¶æ–¹æ¡ˆï¼Œç¼–å†™å¯¹åº”çš„è½¬æ¢å‡½æ•°ï¼š
    <ol>
      <li>
        æ–¹æ¡ˆ1: é€šè¿‡ vw å•ä½æ§åˆ¶ç§»åŠ¨ç«¯å…ƒç´ å¤§å° - vw()
        <ul>
          <li>
            ä¼˜ç‚¹ï¼šé€‚åˆåƒç´ ç»†èŠ‚è¿˜åŸåº¦è¦æ±‚è¾ƒé«˜çš„é¡µé¢ï¼Œç§»åŠ¨ç«¯å¯ä»¥æ ¹æ®å®½åº¦é€æ¸ç¼©æ”¾
          </li>
          <li>
            ç¼ºç‚¹ï¼šæ— éšœç¢æ€§è¾ƒå·®
          </li>
        </ul>
      </li>
      <li>
        æ–¹æ¡ˆ2: é€šè¿‡ rem æ§åˆ¶å„å…ƒç´ å¤§å° - rem()
        <ul>
          <li>
            ä¼˜ç‚¹ï¼šæ— éšœç¢æ€§å¥½ï¼Œè°ƒæ•´æµè§ˆå™¨å­—ä½“å¤§å°æ ¹æ®ç”¨æˆ·éœ€æ±‚å˜åŒ–é¡µé¢
          </li>
          <li>
            ç¼ºç‚¹ï¼šä¸å¥½è¿˜åŸå…ƒç´ è¾ƒå¤šçš„é«˜ç²¾åº¦å›¾ï¼Œæ¯”è¾ƒé€‚åˆç®€å•é¡µé¢
          </li>
        </ul>
      </li>
      <li>
        å…¶ä»–æ–¹æ¡ˆï¼Œå¦‚ç›¸å¯¹ç™¾åˆ†æ¯”ç­‰
      </li>
    </ol>
    å¤‡æ³¨ï¼šå¯¹äºè´Ÿå€¼è½¬æ¢ï¼Œå¯ä»¥è¿™æ ·ä½¿ç”¨ï¼švs-sm(-60px);
```scss
/**
* è½¬æ¢å™¨ï¼Œæ›¿ä»£ postcss æ’ä»¶è½¬æ¢ vw çš„åŠŸèƒ½
*/
@use "sass:string";
@use 'sass:math';
@use 'variables' as var;

@function strip-units($number) {
  @return math.div($number, ($number * 0 + 1));
}

@function vw($px: 0, $size: 1) {
  @return strip-units($px/$size)*100 + vw; 
}

@function vh($px: 0, $size: 1) {
  @return strip-units($px/$size)*100 + vh;
}

@function rem($px: 0, $size: 16) {
  @return strip-units($px/$size) + rem;
}

// ä»¥æœ€å°å°ºå¯¸è¿›è¡Œè®¾ç½®ï¼Œæ‰‹æœºç­‰
@function vw-sm($px) {
  @return vw($px, var.$sm);
}

// ä»¥ä¸­ç­‰å°ºå¯¸è®¾ç½®ï¼Œå¹³æ¿æˆ–è€å¼ç”µè„‘
@function vw-md($px) {
  @return vw($px, var.$md);
}

// æ­£å¸¸å°ºå¯¸çš„ç”µè„‘ï¼Œå¦‚ mac æˆ–è€…è€å¼ç”µè„‘ç­‰
@function vw-base($px) {
  @return vw($px, var.$base);
}

// è¾ƒå¤§å°ºå¯¸çš„ç”µè„‘ï¼Œç°ä»£è®¡ç®—æœºç­‰
@function vw-xl($px) {
  @return vw($px, var.$xl);
}
```
  </li>
  <li>
    ä½¿ç”¨ Partials å»ºç«‹æ¨¡å—åŒ–çš„æ ·å¼ç³»ç»Ÿ
```
â”œâ”€â”€.vscode/
â”‚   â””â”€â”€ alice-scss.code-snippets
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ styles/
â”‚   â”‚   â”œâ”€â”€ _transforms.scss
â”‚   â”‚   â””â”€â”€ _variables.scss
â”‚   â””â”€â”€ ä½ çš„å…¶ä»–ä»£ç æ–‡ä»¶
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json
```
  </li>
  <li>
    ä½¿ç”¨æ—¶ï¼Œå€ŸåŠ© @use å¼•å…¥è½¬æ¢å‡½æ•°ï¼Œå€ŸåŠ© snippets å‡å°‘æ ·æ¿ä»£ç ï¼š

    â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

  å¦‚æœä½ çš„ Partial ä½äº src/styles/_transforms.scss â¬†ï¸
  é‚£ä¹ˆä½ çš„å¯¼å…¥ä»£ç å°†æ˜¯ï¼š
```scss
// ä¸å¸¦å‘½åç©ºé—´çš„
@use "src/styles/transform" as *;
@use "src/styles/variables" as *;
$md; 
width: vw-sm(24px);
```
  æˆ–æ˜¯ï¼š
```scss
// å¸¦å‘½åç©ºé—´çš„
@use "src/styles/variables";
@use "src/styles/transform";
variables.$md;
width: transform.vw-sm(24px);
```
    
    â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

    é’ˆå¯¹äºæ­¤è½¬æ¢å’Œæ¨¡å—åŒ–æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™å¦‚ä¸‹ snippets æ–‡ä»¶ï¼š
```json
{
  "Insert responsive import": {
    "scope": "scss, sass, postcss",
    "prefix": "usr",
    "body": [
      "@use \"src/styles/variables\" as *;",
      "@use \"src/styles/transform\" as *;",
      "$1"
    ],
    "description": "Insert @use case."
  },
  "Insert media sm": {
    "scope": "scss, sass, postcss",
    "prefix": "msm",
    "body": [
      "@media screen and (min-width: (\\$sm + 1)) {",
      "  $1",
      "}"
    ],
    "description": "Insert media query for sm size."
  },
  "Change px to vw": {
    "scope": "scss, sass, postcss",
    "prefix": "vs",
    "body": [
      "vw-sm($1)$2"
    ],
    "description": "Change px to vw."
  }
}
```
    è¿™æ ·ï¼Œåœ¨ scss æ–‡ä»¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥é¿å…å¤§é‡çš„æ ·æ¿ä»£ç ç¼–å†™ï¼Œç¼–å†™ä»¥ä¸‹å‘½ä»¤å¹¶ä½¿ç”¨ IDE è”æƒ³åŠŸèƒ½ï¼ˆç„¶å Tabï¼‰
```
usr // ur ä¹Ÿå¯ä»¥ï¼Œvscode ä¼šæ™ºèƒ½åŒ¹é…åˆ°
msm
vs
```
  </li>
</ol>

## @use vs @import

1. ä¸¤ç§éƒ½æ˜¯å®ç° scss æ¨¡å—åŒ–å¼•å…¥çš„æ–¹å¼ï¼Œ@use è¾ƒæ–°
2. @use ä»…å¼•å…¥å˜é‡ã€å‡½æ•°å’Œæ··å…¥ï¼Œä¸”ä»…ç”Ÿæ•ˆäºå½“å‰æ–‡ä»¶
3. @use æ”¯æŒç§æœ‰æˆå‘˜ï¼Œä¸ºæ‰€æœ‰æˆå‘˜åˆ›å»ºå‘½åç©ºé—´
4. ä½¿ç”¨ @use ... as * é¿å…å‘½åç©ºé—´å†™æ³•
5. @import  å®˜æ–¹è®¡åˆ’å¼ƒç”¨

å‚è€ƒèµ„æ–™ï¼š
https://sass-lang.com/documentation/at-rules/import/
https://stackoverflow.com/questions/62757419/whats-the-difference-between-import-and-use-scss-rules

## Tips: å¤„ç†è½¯é”®ç›˜å¼¹å‡º
åœ¨æ‰‹æœºæµè§ˆå™¨ä¸Šï¼Œå­˜åœ¨è¾“å…¥æ¡† focus æ‹‰èµ·è½¯é”®ç›˜ï¼Œä½†æ˜¯ vh æ²¡æœ‰åé¦ˆå¯è§†é€‚å£å˜åŒ–çš„æƒ…å†µã€‚é‡åˆ°æ­¤æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œå¦‚ä¸‹å¤„ç†ï¼š
1. æ·»åŠ  interactive-widget=resizes-contentï¼Œä½¿å¾—è§†å£ä¼šè¢«äº¤äº’å¼ç»„ä»¶è°ƒæ•´å¤§å°ï¼ˆæ­¤æ—¶ JS å¯è·å–ç¼©å°åçš„è§†å£é«˜åº¦ï¼‰
```html
<meta
    name="viewport"
    content="width=device-width, initial-scale=1.0,interactive-widget=resizes-content"
/>
```
2. æ·»åŠ  resizeã€orientationchange ç›‘å¬ï¼Œè®¾ç½® css å˜é‡ä¸º innerHeight / 100ï¼ˆä½¿ç”¨ 1 æä¾›çš„å†…å®¹ï¼‰
3. æ·»åŠ  height: calc(var(--height, 1vh) * 100) é˜²æ­¢åˆå§‹çŠ¶æ€å¡«å……ä¸æ»¡ï¼ˆåšåˆæ€å¤„ç†ï¼‰
4. Safari Mobile å¼¹å‡ºé”®ç›˜æ—¶é¡µé¢æ»šåŠ¨ï¼Œéœ€è¦ blur æ—¶ window.scrollTo å¤„ç†ï¼ˆå¤„ç† Safari å…¼å®¹ï¼‰
æœ€ç»ˆçš„ç»„ä»¶ä»£ç ï¼š
```tsx
"use client";

import Head from 'next/head';
import { useEffect } from 'react';

type Props = {}

function Inputer({ }: Props) {
  function setViewportHeight() {
    let vh = window.innerHeight * 0.01;
    document.documentElement.style.setProperty('--inner-vh', `${vh}px`);
  }

  // æ³¨ï¼šæ¡ä»¶å…è®¸ï¼Œåº”è¯¥æŠŠç¤ºä¾‹ä»£ç ç§»è‡³æ¡†æ¶å¤–å°½æ—©æ‰§è¡Œ
  useEffect(() => {
    window.addEventListener('resize', setViewportHeight);
    window.addEventListener('orientationchange', setViewportHeight);
    setViewportHeight();

    return () => {
      window.removeEventListener('resize', setViewportHeight);
      window.removeEventListener('orientationchange', setViewportHeight);
    };
  }, []);

  return (
    <>
      <Head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0,interactive-widget=resizes-content" />
      </Head>
      <main className='flex flex-col h-[calc(var(--inner-vh,1vh)*100)] bg-slate-200'>
        {/* ä½ çš„è‡ªå®šä¹‰å†…å®¹ */}
      </main>
    </>
  );
}

export default Inputer;
```

## é™„ä»¶ğŸ“
<a href={ fileURI }>
  ä»£ç ä¸‹è½½ï¼šcode-responsive-and-emmet.zip
</a>

å’Œæœ¬ç¯‡æ–‡ç« ç›¸å…³çš„é¡¹ç›®æ–‡ä»¶ï¼š
```
â”œâ”€â”€.vscode/
â”‚   â””â”€â”€ alice-scss.code-snippets
â””â”€â”€ src/
    â”œâ”€â”€ styles/
    â”‚   â”œâ”€â”€ _transforms.scss
    â”‚   â””â”€â”€ _variables.scss
    â”œâ”€â”€ components/
    â”‚   â”œâ”€â”€ Button/...
    â”‚   â””â”€â”€ Inputer/...
    â””â”€â”€ app/
         â””â”€â”€ input/
               â””â”€â”€ page.tsx
```
å¦‚ä½•å¯åŠ¨é¡¹ç›®ï¼š

äºæ ¹ç›®å½•ä¸‹ï¼Œæ‰§è¡Œï¼š
```bash
npm i -g pnpm
pnpm i
npm run dev
```

ç­‰å¾…å®‰è£…å’Œç¼–è¯‘å®Œæ¯•åï¼Œç„¶åæŒ‰ç…§ terminal ä¸­çš„æç¤ºè®¿é—®æœ¬åœ°æœåŠ¡å³å¯ã€‚ä¸»è¦æ¼”ç¤ºé¡µé¢ï¼š/ å’Œ /inputã€‚

æ¯”å¦‚æˆ‘ä»¬å¯åŠ¨å terminal æç¤ºåœ¨ localhost:3000 å¯åŠ¨äº†æœ¬åœ°æœåŠ¡ï¼Œé‚£ä¹ˆè®¿é—® http://localhost:3000/ å’Œ http://localhost:3000/input